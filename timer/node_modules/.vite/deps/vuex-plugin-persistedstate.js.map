{
  "version": 3,
  "sources": ["../../vuex-plugin-persistedstate/dist/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  default: () => VuexPersistedstate\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/core/storage.ts\nvar getItem = (key) => {\n  const val = JSON.parse(window.localStorage.getItem(key));\n  if (!val) {\n    return {};\n  }\n  return val.value || {};\n};\nvar setItem = (key, value) => {\n  let val = {\n    value\n  };\n  let valStr = JSON.stringify(val);\n  window.localStorage.setItem(key, valStr);\n};\nvar removeItem = (key) => {\n  window.localStorage.removeItem(key);\n};\nvar storage = {\n  getItem,\n  setItem,\n  removeItem\n};\nvar storage_default = storage;\n\n// src/core/options.ts\nvar defaultOptions = {\n  key: \"VUEX-PERSISTEDSTATE\",\n  paths: [],\n  fetchBeforeUse: true,\n  fetchBeforeUseFn(key, storage2) {\n    return storage2.getItem(key);\n  },\n  storage: storage_default\n};\n\n// src/core/persistedstate.ts\nfunction matchPaths(paths, mutation) {\n  if (paths.length === 0) {\n    return true;\n  }\n  const moduleName = mutation.type.split(\"/\")[0];\n  if (!moduleName) {\n    return false;\n  }\n  return paths.includes(moduleName);\n}\n\n// src/index.ts\nvar catchData = {};\nfunction VuexPersistedstate({\n  key = defaultOptions.key,\n  paths = defaultOptions.paths,\n  storage: storage2 = defaultOptions.storage,\n  fetchBeforeUse = defaultOptions.fetchBeforeUse,\n  fetchBeforeUseFn = defaultOptions.fetchBeforeUseFn\n} = defaultOptions) {\n  if (fetchBeforeUse) {\n    catchData = fetchBeforeUseFn(key, storage2);\n  }\n  return (store) => {\n    for (const key2 in catchData) {\n      if (Object.prototype.hasOwnProperty.call(catchData, key2)) {\n        const value = catchData[key2];\n        store.commit(key2, value);\n      }\n    }\n    store.subscribe((mutation, state) => {\n      if (matchPaths(paths, mutation)) {\n        catchData[mutation.type] = mutation.payload;\n        storage2.setItem(key, catchData);\n      }\n    });\n  };\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {});\n"],
  "mappings": "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",
  "names": []
}

!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).PseudoWindow=e()}(this,(function(){"use strict";function n(e){return Array.isArray(e)?(o=function(e){return n(e)},e.reduce((function(n,e){return n.concat(o(e))}),[])):null!==(t=e)&&"object"==typeof t?function(n){var e=[];for(var o in n)n[o]&&e.push(o);return e}(e):"string"==typeof e&&e?[e]:[];var o,t}var e=function(e){var o=e.props,t=e.data,r=e.parent,i=n([t.staticClass,t.class]);if(i){var a,u,c,s=(u=(a=o).body,c=a.document,u?window.document.body:!!c&&window.document.documentElement);if(s){var d=function(n,e){if(0!==e.length){var o=n.classList;return e.filter((function(n){return!o.contains(n)&&(o.add(n),!0)}))}}(s,i),f=function(){!function(n,e){if(e&&0!==e.length){for(var o;o=e.shift();)n.classList.remove(o);0===n.classList.length&&n.removeAttribute("class")}}(s,d)};r.$once("hook:beforeUpdate",f),r.$once("hook:destroyed",f)}}},o=Object.prototype.hasOwnProperty,t=function(n,e,o){var t="&"===e[0],r="~"===(e=t?e.slice(1):e)[0],i="!"===(e=r?e.slice(1):e)[0];return{target:n,name:e=i?e.slice(1):e,handler:o,opts:{once:r,capture:i,passive:t}}},r=function(n){var e,r,i,a=n.props,u=n.listeners,c=n.parent,s=function(n,e){var r,i,a=[];for(var u in e)if(r=e,i=u,o.call(r,i)){var c=e[u],s=t(n,u,c);s.target.addEventListener(s.name,s.handler,s.opts),a.push(s)}return a}((r=(e=a).body,i=e.document,r?window.document.body:i?window.document:window),u),d=function(){!function(n){for(var e;e=n.shift();)e.target.removeEventListener(e.name,e.handler,e.opts)}(s)};c.$once("hook:beforeUpdate",d),c.$once("hook:destroyed",d)},i=function(n){r(n),e(n)};return{name:"pseudo-window",functional:!0,props:{document:Boolean,body:Boolean},render:function(n,e){return e.parent._isMounted?i(e):e.parent.$once("hook:mounted",(function(){i(e)})),e.slots().default}}}));
